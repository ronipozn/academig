<div class="side-form" (keydown.escape)="onCancel()">

  <h3 class="title text-center">Service Request Details</h3>

  <div class="form-container">
    <form class="form-group" [formGroup]="formModel" (ngSubmit)="onSubmit()" novalidate>

      <build-modal-text-field [labelHide]=true
                              [fieldType]=7
                              [controlName]="'priceRequest'"
                              (controlStatus)="controlRequestFunc()"
                              [parentGroup]="formModel"
                              [itemArray]="['Accept requests']"
                              [submitStatus]=submitStatus>
      </build-modal-text-field>

      <p class="mt-4"></p>

      <build-modal-text-field [labelRequired]="formModel.get('priceRequest').value[0]"
                              [fieldType]=4
                              [itemTitle]="'Contract type'"
                              [controlName]="'priceType'"
                              [parentGroup]="formModel"
                              [itemArray]=priceTypeRadio
                              [submitStatus]=submitStatus>
      </build-modal-text-field>

      <build-modal-text-field [labelRequired]=true
                              [fieldType]=4
                              [itemTitle]="'Show price'"
                              [controlName]="'priceMode'"
                              [parentGroup]=formModel
                              [itemArray]=priceModeRadio
                              [submitStatus]=submitStatus>
      </build-modal-text-field>

      <build-modal-text-field [labelHide]=true
                              [fieldType]=7
                              [controlName]="'priceRange'"
                              [parentGroup]="formModel"
                              [itemArray]="(formModel.get('priceType').value) ? ['Price range'] : ['Price range']"
                              [submitStatus]=submitStatus>
      </build-modal-text-field>

      <div class="row no-gutters mt-3">
        <div [ngClass]="{'col-6 pr-1': formModel.get('priceRange').value[0], 'col-12': !formModel.get('priceRange').value[0]}">
          <build-modal-text-field [labelRequired]=true
                                  [fieldType]=1
                                  [typeSelected]="'number'"
                                  [itemTitle]="(formModel.get('priceRange').value[0]) ? 'Price Start' : 'Price'"
                                  [controlName]="'priceStart'"
                                  [parentGroup]="formModel">
          </build-modal-text-field>
        </div>
        <div class="col-6 pl-1" [hidden]="!formModel.get('priceRange').value[0]">
          <build-modal-text-field [fieldType]=1
                                  [typeSelected]="'number'"
                                  [itemTitle]="'Price End'"
                                  [controlName]="'priceEnd'"
                                  [parentGroup]="formModel">
          </build-modal-text-field>
        </div>
      </div>

      <!-- <build-modal-text-field [labelRequired]=true
                              [fieldType]=4
                              [itemTitle]="'Currency'"
                              [itemArray]=currencySelect
                              [controlName]="'priceCurrency'"
                              [parentGroup]="formModel">
      </build-modal-text-field> -->

      <build-modal-text-field [fieldType]=1
                              [itemTitle]="'Internal ID'"
                              [controlName]="'priceInternalId'"
                              [parentGroup]=formModel
                              [submitStatus]=submitStatus>
      </build-modal-text-field>

      <div class="pull-left form-group">
        <button role="button" class="btn btn-sm btn-light-blue">Update</button>
        <button type="button" class="btn btn-sm btn-link" (click)="onCancel()">Cancel</button>
      </div>

    </form>
  </div>
</div>
