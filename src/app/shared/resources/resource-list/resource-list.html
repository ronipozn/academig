<spinner *ngIf="!streamRetrieved"></spinner>

<ng-container *ngIf="streamRetrieved && resources.length!=0">

  <ng-container *ngIf="sourceType!=3">
    <div *ngFor="let resource of resources; let i=index; let l=last" class="card mt-0 mb-3" [ngClass]="{'bg-success': resource.standout>0}">
      <div class="card-body pl-2 pt-2">
        <resource-item [itemAutofocus]="itemFocus==i"
                       [resource]=resource
                       [sourceType]=sourceType
                       [showEditBtn]=showEditBtn
                       [deleteFlag]=deleteFlag
                       [followStatus]="follows ? follows[i] : null"
                       [stream]=stream[i]
                       [streamFollow]=streamFollow[i]
                       [streamSuggestion]="streamSuggestion ? streamSuggestion[i] : null"
                       (animationDoneEvent)="animationDone()"
                       (buttonEditClick)="buttonEditFunc(i)"
                       (buttonDeleteClick)="buttonDeleteFunc(i)"
                       (buttonFollowClick)="buttonFollowFunc(i)"
                       (buttonSuggestionClick)="buttonSuggestionFunc($event,i)">
        </resource-item>
      </div>
    </div>
  </ng-container>

  <div *ngIf="sourceType==3" class="d-flex flex-row" style="overflow-x: scroll; width: 98%;">
    <div *ngFor="let resource of resources; let i=index; let l=last">
      <div class="card mt-1 mx-1" style="width: 26rem; height: 11rem" [ngClass]="{'bg-success': resource.standout>0}">
        <div class="card-body pl-2 pt-2">
          <resource-item [itemAutofocus]="itemFocus==i"
                         [resource]=resource
                         [sourceType]=sourceType
                         [showEditBtn]=showEditBtn
                         [deleteFlag]=deleteFlag
                         [followStatus]="follows ? follows[i] : null"
                         [stream]=stream[i]
                         [streamFollow]=streamFollow[i]
                         (animationDoneEvent)="animationDone()"
                         (buttonEditClick)="buttonEditFunc(i)"
                         (buttonDeleteClick)="buttonDeleteFunc(i)"
                         (buttonFollowClick)="buttonFollowFunc(i)"
                         (buttonSuggestionClick)="buttonSuggestionFunc($event,i)">
          </resource-item>
        </div>
      </div>
    </div>
  </div>

</ng-container>
